<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Matlab Rinocloud tutorial &middot; Rinocloud
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="https://s3-eu-west-1.amazonaws.com/rinocloud/static/Rreverse.png">
  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Rinocloud" href="/atom.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">Rinocloud</a>
          <small>blog</small>
          <small><a style="float:right; margin-top:5px;" href="https://rinocloud.com">go to rinocloud.com</a></small>
        </h3>

      </header>

      <main>
        <article class="post">
  <h1 class="post-title">Matlab Rinocloud tutorial</h1>
  <time datetime="2016-01-10T17:34:57+00:00" class="post-date">10 Jan 2016</time>
  <div class="post-date">by Jamie</div>
  <h1 id="the-rinocloud-matlab-integration">The Rinocloud-MATLAB Integration</h1>

<p>You can save and load data files from Rinocloud from within MATLAB using the Rinocloud-MATLAB interface.</p>

<h2 id="installation">Installation</h2>

<p>Download the zip file from</p>

<p><a href="https://github.com/rinocloud/rinocloud-matlab/archive/master.zip">https://github.com/rinocloud/rinocloud-matlab/archive/master.zip</a></p>

<p>Or you can git clone the repository.</p>

<p><code class="highlighter-rouge">
git clone https://github.com/rinocloud/rinocloud-matlab
</code></p>

<h2 id="getting-started">Getting started</h2>

<p>To get your API token; sign into your Rinocloud project and go to</p>

<p><code class="highlighter-rouge">
https://&lt;yourproject&gt;.rinocloud.com/integrations/
</code></p>

<p>Download the Rinocloud-MATLAB integration folder and add the folder and subfolders to your MATLAB path.</p>

<p>Copy your API token and paste it into the function called “authenication.m”, which is found in the “+rino” folder. Remember to keep this token secret, anyone with access to the API token can see and modify your data.</p>

<p><strong>That’s it!</strong> You’re all set up and ready to go. See below for guides to using the different functions in the Rinocloud-MATLAB Interface.</p>

<h2 id="tests">Tests</h2>

<p>The Rinocloud-MATLAB integration should work right away, but if you want to test all of the functions automatically, you can do this by running the rinotests.m function. You will need to set the test API Token in the authenication.m file to the test API Token, which is:</p>

<p><strong>test only token</strong> = <code class="highlighter-rouge">a377055b6aecc41f00038c4cd48169b6b55b3d78</code></p>

<p>Once you have done this, running rinotests.m will check that all the Matlab functions for Rinocloud work on your computer and on your version of Matlab.</p>

<p>Remember to change the API Token back after you have finished running the tests, as all the test data is deleted periodically.</p>

<h1 id="examples">Examples</h1>

<p>This section will give you some simple example of how to use the Rinocloud-MATLAB Integration. For full details on what the functions can do, see the Function Documentation section below.</p>

<h2 id="uploading-files">Uploading files</h2>

<h3 id="uploading-a-single-file">Uploading a single file</h3>

<p>To upload a file to Rinocloud from MATLAB, first make sure that the file is in your current folder. To upload the file “logo.png” to Rinocloud, in the command window enter:</p>

<p><code class="highlighter-rouge">
response_metadata = rino.upload('logo.png');
</code></p>

<h3 id="upload-a-file-with-metadata-and-tags">Upload a file with metadata and tags</h3>

<p>```
metadata = struct(
            ‘param1’, ‘value1’
            ‘param2’, ‘value2’
          )</p>

<p>tags = {‘apples’,’oranges’}</p>

<p>response_metadata = rino.upload(‘logo.png’, ‘metadata’, metadata, ‘tags’, tags);
```</p>

<h3 id="upload-to-a-specific-folder">Upload to a specific folder</h3>

<p>Just get the id of the folder next to the folder name on the rinocloud website, its displayed as #<id></id></p>

<p><code class="highlighter-rouge">
response_metadata = rino.upload('logo.png', 'parent', &lt;parent_id&gt;);
</code></p>

<h3 id="response-metadata">Response metadata</h3>

<p>The response metadata will typically look like this:</p>

<p><code class="highlighter-rouge">
response_metadata =
              id: 848
            name: 'logo.png'
            size: 11433
            type: 'file'
         project: 1
    project_name: 'test'
           owner: 'test_user'
      created_on: '2016-01-25T11:33:44.098427Z'
      updated_on: '2016-01-25T11:33:44.098457Z'
          shared: 0
          parent: 1
            tags: {'apples'  'oranges'}
          param1: 'value1'
          param2: 'value2'
</code></p>

<h3 id="getting-the-id-of-the-uploaded-file">Getting the id of the uploaded file</h3>

<p>You can get the ID of the uploaded file by typing</p>

<p><code class="highlighter-rouge">
response_metadata.id
</code></p>

<h3 id="full-upload-example">Full upload example</h3>

<p>Here is an example that uses all of the optional arguments. Here we want to upload a file called “logo.png”, but we want to rename it to “RinoLogo.png”. We also want to tag it with the tags “image” and “logo”, and to give it the key value pairs “size : small” and “colour : purple”. Finally, we also want to save it within a folder we have created which has the object ID 865. In order to do this, we enter the following:</p>

<p>```
NAME = ‘RinoLogo.png’;
SEARCH_TAGS = {‘image’, ‘logo’};
FILE_METADATA = struct(‘size’, ‘small’, ‘colour’, ‘purple’);
FOLDER_ID = 865;</p>

<p>rino.upload(logo.png, ‘newname’, ‘RinoLogo.png’, ‘tags’, SEARCH_TAGS, ‘metadata’, FILE_METADATA, ‘parent’, FOLDER_ID);
```</p>

<h2 id="downloading-files">Downloading files</h2>

<h3 id="download-a-single-rinocloud-file">Download a single Rinocloud file</h3>

<p>You can specify which file you want to download by giving its object ID. This can be found using the Rinocloud web interface. To download an object with the ID 667, you would enter:</p>

<p><code class="highlighter-rouge">
rino.download(667);
</code></p>

<p>It will be named with the filename on Rinocloud</p>

<h3 id="download-and-rename">Download and rename</h3>

<p>If we want to download a csv file with object ID 7664, and to rename it “spectrum.txt”, we would type:</p>

<p><code class="highlighter-rouge">
rino.download(7664, 'newname', 'spectrum.txt');
</code></p>

<h3 id="download-into-a-variable">Download into a variable</h3>

<p>If we simply wanted to read the text straight into a MATLAB variable, “DATA”, as a string, we would type:</p>

<p><code class="highlighter-rouge">
DATA = rino.download(7664, 'tofile', false, 'totext', true);
</code></p>

<h3 id="download-most-recent">Download most recent</h3>

<p>The download the most recently uploaded file to your current folder, you can enter:</p>

<p><code class="highlighter-rouge">
rino.download_last();
</code></p>

<p>or</p>

<p><code class="highlighter-rouge">
rino.download_last(4); % will download last 4 files
</code></p>

<p>The function also takes the “tofile” and “totext” arguments in the same way as the rino.download() function. For multiple files, the output will be given as a cell array if the “tofile” argument is set to false.</p>

<h2 id="creating-folders">Creating folders</h2>

<p><code class="highlighter-rouge">
rino.create_folder('rino_uploads');
</code></p>

<p>The create_folder() function take only a single argument, the folder name as a string. The function returns the folder metadata, including its object ID so that the ID can be used when uploading to the folder.</p>

<p>To create a folder called “rino_uploads”, we enter:</p>

<h2 id="updating">Updating</h2>

<h3 id="updating-tags">Updating tags</h3>

<p><code class="highlighter-rouge">
rino.update_tags()
</code></p>

<p>This function removes the old tags associated with an object and replaces them with new ones. The function requires the object ID of the object with tags to be replaced and the new tags as cell array of strings. For example, to replace the tags of the object with the ID 8898 with the tags “fast” and “new”, we would type:</p>

<p><code class="highlighter-rouge">
rino.update_tags(8898,{'fast', 'new'});
</code></p>

<h3 id="updating-metadata">Updating metadata</h3>

<p>This updates the metadata associated with a file. The function requires the object ID of the file and the new metadata as a MATLAB structure array. For example, if we wanted to associate the metadata “laser_power : 6 nW” with the file with the ID 8898, we would enter:</p>

<p><code class="highlighter-rouge">
rino.update_metadata(8898, struct('laser_power', '6 nW'));
</code></p>

<h2 id="deleting">Deleting</h2>

<p>This function deletes a saved file. The delete function takes only the object ID of the file you want to delete. So delete the file with the object ID 8898, we type:</p>

<p><code class="highlighter-rouge">
rino.delete(8898);
</code></p>

<h1 id="api-documentation">API Documentation</h1>

<h2 id="rinoupload">rino.upload()</h2>

<p>```
rino.upload(filename)</p>

<p>% with all optional arguments
rino.upload(filename, ‘newname’, newname, ‘metadata’, metadata, ‘tags’, tags, ‘parent’, parent)
```</p>

<p>The upload function only requires the file name (or file path) as a string as an input. It also takes the following optional arguments:</p>

<p><strong>newname</strong>: This is the name that the file will given when it is saved to Rinocloud. The newname should be a string.</p>

<p><strong>tags</strong>: Tags are to allow you to search your data more easily. Tags should be given as a cell array of strings.</p>

<p><strong>metadata</strong>: Metadata should be in the form of key-value pairs and should be passed to the upload function as a MATLAB structure array.</p>

<p><strong>parent</strong>: The parent argument is the object ID of the folder that you want to save your file into. You can find the folder object ID using the web interface.</p>

<h2 id="rinodownload">rino.download()</h2>

<p>```
rino.download(file_id)</p>

<p>% with all optional arguments
rino.download(file_id, ‘tofile’, 1, ‘totext’, 0)
```</p>

<p>The download function only requires the object ID of file you want to download. The funtion will save the file in your current folder. The download function also takes the following optional arguments:</p>

<p><strong>newname</strong>: As before, this is the name that the file will given when it is saved to your computer. The newname should be a string.</p>

<p><strong>tofile</strong>: This argument defaults to true, but if it is set to false, the downloaded file will be returned as binary data (encoded in the uint8 format) and will not be saved to a file on your computer.</p>

<p><strong>totext</strong>: This argument defaults to false, but if set to true it will assume that the downloaded data is text.</p>

</article>


<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/blog/2016/01/18/why-i-started-rinocloud.html">
            Why I left my PhD at Cambridge to start Rinocloud
            <small><time datetime="2016-01-18T07:34:57+00:00">18 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/jekyll/update/2016/01/12/api-explorer.html">
            API explorer
            <small><time datetime="2016-01-12T17:34:57+00:00">12 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/jekyll/update/2016/01/12/rinocloud-labview-tutorial.html">
            Rinocloud Labview tutorial
            <small><time datetime="2016-01-12T17:34:57+00:00">12 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2016-01-25T12:12:18+00:00">2016</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
</html>
