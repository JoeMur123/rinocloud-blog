<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Matlab Rinocloud tutorial &middot; Rinocloud
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="https://s3-eu-west-1.amazonaws.com/rinocloud/static/Rreverse.png">
  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Rinocloud" href="/atom.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">Rinocloud</a>
          <small>blog</small>
          <small><a style="float:right; margin-top:5px;" href="https://rinocloud.com">go to rinocloud.com</a></small>
        </h3>

      </header>

      <main>
        <article class="post">
  <h1 class="post-title">Matlab Rinocloud tutorial</h1>
  <time datetime="2016-01-10T17:34:57+00:00" class="post-date">10 Jan 2016</time>
  <div class="post-date">by Jamie</div>
  <p>You can save and load data files from Rinocloud from within MATLAB using the Rinocloud-MATLAB interface.</p>

<h2 id="installation">Installation</h2>

<p>Download the zip file from</p>

<p><a href="https://github.com/rinocloud/rinocloud-matlab/archive/master.zip">https://github.com/rinocloud/rinocloud-matlab/archive/master.zip</a></p>

<p>Or you can git clone the repository.</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="p">/</span><span class="n">rinocloud</span><span class="p">/</span><span class="n">rinocloud</span><span class="o">-</span><span class="n">matlab</span></code></pre></figure>

<h2 id="getting-started">Getting started</h2>

<p>To get your API token; sign into your Rinocloud project and go to</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">https</span><span class="p">://</span><span class="o">&lt;</span><span class="n">yourproject</span><span class="o">&gt;.</span><span class="n">rinocloud</span><span class="o">.</span><span class="n">com</span><span class="p">/</span><span class="n">integrations</span><span class="p">/</span></code></pre></figure>

<p>Download the Rinocloud-MATLAB integration folder and add the folder and subfolders to your MATLAB path.</p>

<p>Copy your API token and paste it into the function called “authenication.m”, which is found in the “+rino” folder. Remember to keep this token secret, anyone with access to the API token can see and modify your data.</p>

<p><strong>That’s it!</strong> You’re all set up and ready to go. See below for guides to using the different functions in the Rinocloud-MATLAB Interface.</p>

<h2 id="tests">Tests</h2>

<p>The Rinocloud-MATLAB integration should work right away, but if you want to test all of the functions automatically, you can do this by running the rinotests.m function. You will need to set the test API Token in the authenication.m file to the test API Token, which is:</p>

<p><strong>test only token</strong> = <code class="highlighter-rouge">a377055b6aecc41f00038c4cd48169b6b55b3d78</code></p>

<p>Once you have done this, running rinotests.m will check that all the Matlab functions for Rinocloud work on your computer and on your version of Matlab.</p>

<p>Remember to change the API Token back after you have finished running the tests, as all the test data is deleted periodically.</p>

<h1 id="examples">Examples</h1>

<p>This section will give you some simple example of how to use the Rinocloud-MATLAB Integration. For full details on what the functions can do, see the Function Documentation section below.</p>

<h2 id="uploading-files">Uploading files</h2>

<h3 id="uploading-a-single-file">Uploading a single file</h3>

<p>To upload a file to Rinocloud from MATLAB, first make sure that the file is in your current folder. To upload the file “logo.png” to Rinocloud, in the command window enter:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">response_metadata</span> <span class="o">=</span> <span class="n">rino</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="s1">'logo.png'</span><span class="p">);</span></code></pre></figure>

<h3 id="upload-a-file-with-metadata-and-tags">Upload a file with metadata and tags</h3>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">metadata</span> <span class="o">=</span> <span class="nb">struct</span><span class="p">(</span>
            <span class="s1">'param1'</span><span class="p">,</span> <span class="s1">'value1'</span>
            <span class="s1">'param2'</span><span class="p">,</span> <span class="s1">'value2'</span>
          <span class="p">)</span>


<span class="n">tags</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'apples'</span><span class="p">,</span><span class="s1">'oranges'</span><span class="p">}</span>

<span class="n">response_metadata</span> <span class="o">=</span> <span class="n">rino</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="s1">'logo.png'</span><span class="p">,</span> <span class="s1">'metadata'</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="s1">'tags'</span><span class="p">,</span> <span class="n">tags</span><span class="p">);</span></code></pre></figure>

<h3 id="upload-to-a-specific-folder">Upload to a specific folder</h3>

<p>Just get the id of the folder next to the folder name on the rinocloud website, its displayed as <code class="highlighter-rouge">#&lt;id&gt;</code></p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">response_metadata</span> <span class="o">=</span> <span class="n">rino</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="s1">'logo.png'</span><span class="p">,</span> <span class="s1">'parent'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">parent_id</span><span class="o">&gt;</span><span class="p">);</span></code></pre></figure>

<h3 id="response-metadata">Response metadata</h3>

<p>The response metadata will typically look like this:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">response_metadata</span> <span class="o">=</span>
              <span class="n">id</span><span class="p">:</span> <span class="mi">848</span>
            <span class="n">name</span><span class="p">:</span> <span class="s1">'logo.png'</span>
            <span class="nb">size</span><span class="p">:</span> <span class="mi">11433</span>
            <span class="nb">type</span><span class="p">:</span> <span class="s1">'file'</span>
         <span class="n">project</span><span class="p">:</span> <span class="mi">1</span>
    <span class="n">project_name</span><span class="p">:</span> <span class="s1">'test'</span>
           <span class="n">owner</span><span class="p">:</span> <span class="s1">'test_user'</span>
      <span class="n">created_on</span><span class="p">:</span> <span class="s1">'2016-01-25T11:33:44.098427Z'</span>
      <span class="n">updated_on</span><span class="p">:</span> <span class="s1">'2016-01-25T11:33:44.098457Z'</span>
          <span class="n">shared</span><span class="p">:</span> <span class="mi">0</span>
          <span class="n">parent</span><span class="p">:</span> <span class="mi">1</span>
            <span class="n">tags</span><span class="p">:</span> <span class="p">{</span><span class="s1">'apples'</span>  <span class="s1">'oranges'</span><span class="p">}</span>
          <span class="n">param1</span><span class="p">:</span> <span class="s1">'value1'</span>
          <span class="n">param2</span><span class="p">:</span> <span class="s1">'value2'</span></code></pre></figure>

<h3 id="getting-the-id-of-the-uploaded-file">Getting the id of the uploaded file</h3>

<p>You can get the ID of the uploaded file by typing</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">response_metadata</span><span class="o">.</span><span class="n">id</span></code></pre></figure>

<h3 id="full-upload-example">Full upload example</h3>

<p>Here is an example that uses all of the optional arguments. Here we want to upload a file called “logo.png”, but we want to rename it to “RinoLogo.png”. We also want to tag it with the tags “image” and “logo”, and to give it the key value pairs “size : small” and “colour : purple”. Finally, we also want to save it within a folder we have created which has the object ID 865. In order to do this, we enter the following:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">NAME</span> <span class="o">=</span> <span class="s1">'RinoLogo.png'</span><span class="p">;</span>
<span class="n">SEARCH_TAGS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'image'</span><span class="p">,</span> <span class="s1">'logo'</span><span class="p">};</span>
<span class="n">FILE_METADATA</span> <span class="o">=</span> <span class="nb">struct</span><span class="p">(</span><span class="s1">'size'</span><span class="p">,</span> <span class="s1">'small'</span><span class="p">,</span> <span class="s1">'colour'</span><span class="p">,</span> <span class="s1">'purple'</span><span class="p">);</span>
<span class="n">FOLDER_ID</span> <span class="o">=</span> <span class="mi">865</span><span class="p">;</span>

<span class="n">rino</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">logo</span><span class="o">.</span><span class="n">png</span><span class="p">,</span> <span class="s1">'newname'</span><span class="p">,</span> <span class="s1">'RinoLogo.png'</span><span class="p">,</span> <span class="s1">'tags'</span><span class="p">,</span> <span class="n">SEARCH_TAGS</span><span class="p">,</span> <span class="s1">'metadata'</span><span class="p">,</span> <span class="n">FILE_METADATA</span><span class="p">,</span> <span class="s1">'parent'</span><span class="p">,</span> <span class="n">FOLDER_ID</span><span class="p">);</span></code></pre></figure>

<h2 id="downloading-files">Downloading files</h2>

<h3 id="download-a-single-rinocloud-file">Download a single Rinocloud file</h3>

<p>You can specify which file you want to download by giving its object ID. This can be found using the Rinocloud web interface. To download an object with the ID 667, you would enter:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="mi">667</span><span class="p">);</span></code></pre></figure>

<p>It will be named with the filename on Rinocloud</p>

<h3 id="download-and-rename">Download and rename</h3>

<p>If we want to download a csv file with object ID 7664, and to rename it “spectrum.txt”, we would type:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="mi">7664</span><span class="p">,</span> <span class="s1">'newname'</span><span class="p">,</span> <span class="s1">'spectrum.txt'</span><span class="p">);</span></code></pre></figure>

<h3 id="download-into-a-variable">Download into a variable</h3>

<p>If we simply wanted to read the text straight into a MATLAB variable, “DATA”, as a string, we would type:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">DATA</span> <span class="o">=</span> <span class="n">rino</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="mi">7664</span><span class="p">,</span> <span class="s1">'tofile'</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="s1">'totext'</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span></code></pre></figure>

<h3 id="download-most-recent">Download most recent</h3>

<p>The download the most recently uploaded file to your current folder, you can enter:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">download_last</span><span class="p">();</span></code></pre></figure>

<p>or</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">download_last</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="c1">% will download last 4 files</span></code></pre></figure>

<p>The function also takes the “tofile” and “totext” arguments in the same way as the rino.download() function. For multiple files, the output will be given as a cell array if the “tofile” argument is set to false.</p>

<h2 id="creating-folders">Creating folders</h2>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s1">'rino_uploads'</span><span class="p">);</span></code></pre></figure>

<p>The create_folder() function take only a single argument, the folder name as a string. The function returns the folder metadata, including its object ID so that the ID can be used when uploading to the folder.</p>

<p>To create a folder called “rino_uploads”, we enter:</p>

<h2 id="updating">Updating</h2>

<h3 id="updating-tags">Updating tags</h3>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">update_tags</span><span class="p">();</span></code></pre></figure>

<p>This function removes the old tags associated with an object and replaces them with new ones. The function requires the object ID of the object with tags to be replaced and the new tags as cell array of strings. For example, to replace the tags of the object with the ID 8898 with the tags “fast” and “new”, we would type:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">update_tags</span><span class="p">(</span><span class="mi">8898</span><span class="p">,{</span><span class="s1">'fast'</span><span class="p">,</span> <span class="s1">'new'</span><span class="p">});</span></code></pre></figure>

<h3 id="updating-metadata">Updating metadata</h3>

<p>This updates the metadata associated with a file. The function requires the object ID of the file and the new metadata as a MATLAB structure array. For example, if we wanted to associate the metadata “laser_power : 6 nW” with the file with the ID 8898, we would enter:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">update_metadata</span><span class="p">(</span><span class="mi">8898</span><span class="p">,</span> <span class="nb">struct</span><span class="p">(</span><span class="s1">'laser_power'</span><span class="p">,</span> <span class="s1">'6 nW'</span><span class="p">));</span></code></pre></figure>

<h2 id="deleting">Deleting</h2>

<p>This function deletes a saved file. The delete function takes only the object ID of the file you want to delete. So delete the file with the object ID 8898, we type:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="nb">delete</span><span class="p">(</span><span class="mi">8898</span><span class="p">);</span></code></pre></figure>

<h1 id="api-documentation">API Documentation</h1>

<h2 id="rinoupload">rino.upload()</h2>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>

<span class="c1">% with all optional arguments</span>
<span class="n">rino</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">'newname'</span><span class="p">,</span> <span class="n">newname</span><span class="p">,</span> <span class="s1">'metadata'</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="s1">'tags'</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="s1">'parent'</span><span class="p">,</span> <span class="n">parent</span><span class="p">);</span></code></pre></figure>

<p>The upload function only requires the file name (or file path) as a string as an input. It also takes the following optional arguments:</p>

<p><strong>newname</strong>: This is the name that the file will given when it is saved to Rinocloud. The newname should be a string.</p>

<p><strong>tags</strong>: Tags are to allow you to search your data more easily. Tags should be given as a cell array of strings.</p>

<p><strong>metadata</strong>: Metadata should be in the form of key-value pairs and should be passed to the upload function as a MATLAB structure array.</p>

<p><strong>parent</strong>: The parent argument is the object ID of the folder that you want to save your file into. You can find the folder object ID using the web interface.</p>

<h2 id="rinodownload">rino.download()</h2>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">rino</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">file_id</span><span class="p">);</span>

<span class="c1">% with all optional arguments</span>
<span class="n">rino</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">file_id</span><span class="p">,</span> <span class="s1">'tofile'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'totext'</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></code></pre></figure>

<p>The download function only requires the object ID of file you want to download. The funtion will save the file in your current folder. The download function also takes the following optional arguments:</p>

<p><strong>newname</strong>: As before, this is the name that the file will given when it is saved to your computer. The newname should be a string.</p>

<p><strong>tofile</strong>: This argument defaults to true, but if it is set to false, the downloaded file will be returned as binary data (encoded in the uint8 format) and will not be saved to a file on your computer.</p>

<p><strong>totext</strong>: This argument defaults to false, but if set to true it will assume that the downloaded data is text.</p>

</article>


<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/jekyll/update/2016/01/26/what-our-market-is-telling-us.html">
            What our market is telling us 
            <small><time datetime="2016-01-26T17:34:57+00:00">26 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/jekyll/update/2016/01/25/the-start-of-rinocloud.html">
            The start of RinoCloud 
            <small><time datetime="2016-01-25T17:34:57+00:00">25 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2016/01/18/why-i-started-rinocloud.html">
            Why I left my PhD at Cambridge to start Rinocloud
            <small><time datetime="2016-01-18T07:34:57+00:00">18 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2016-01-26T21:10:22+00:00">2016</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
</html>
